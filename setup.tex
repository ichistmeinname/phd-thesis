% !TEX root = thesis.tex

% Declare old font to make .sty compatible
\DeclareOldFontCommand{\tt}{\normalfont\ttfamily}{\texttt}
% Unicode chars not set up for the use with LaTeX
\DeclareUnicodeCharacter{251C}{\mbox{\kern.23em
 \vrule height2.4exdepth1exwidth.4pt\vrule height2.4ptdepth-1.8ptwidth.23em}}
\DeclareUnicodeCharacter{2500}{\mbox{\vrule height2.4ptdepth-1.8ptwidth.5em}}
\DeclareUnicodeCharacter{2502}{\mbox{\kern.23em \vrule height2.4exdepth1exwidth.4pt}}
\DeclareUnicodeCharacter{2514}{\mbox{\kern.23em \vrule height2.4exdepth-1.8ptwidth.4pt\vrule height2.4ptdepth-1.8ptwidth.23em}}

\usepackage{
  siunitx,
  todonotes,
  booktabs,
  tikz,
  pgfplots,
  multirow
}
\pgfplotsset{compat=newest}
\usetikzlibrary{patterns}

% important for Bayesian Network graphics
\newcolumntype{M}[1]{D{.}{.}{1.#1}}
\usepackage{dcolumn}

% important for using unicode characters in verbatim-environments
\usepackage{alltt}

% align-environment
\usepackage{amsmath}

% code highlighting
\usepackage[outputdir=dist]{minted}
\usemintedstyle{friendly}

\colorlet{haskell}{blue!50!black}
\colorlet{curry}{orange!70!white}
\colorlet{probLog}{violet!70!white}
\colorlet{webPPL}{blue!70!black}

% redefine subsubsections and paragraphs
\usepackage{titlesec}
\titleformat{\subsubsection}{}{}{}{\bfseries}

% for floating verbatim-environment
\usepackage{fancyvrb}

% **************************************************
% Files' Character Encoding
% **************************************************
% \usepackage[T1]{fontenc}
\PassOptionsToPackage{utf8}{inputenc}
\usepackage{inputenc}


% **************************************************
% Information and Commands for Reuse
% **************************************************
\newcommand{\thesisTitle}{Effectful Programming in
Declarative Languages with an Emphasis on Non-Determinism:
Applications and Formal Reasoning}
\newcommand{\thesisName}{Sandra Dylus}
\newcommand{\thesisSubject}{PhD Thesis}
\newcommand{\thesisDate}{August, 2019}
\newcommand{\thesisVersion}{First Draft}

\newcommand{\thesisFirstReviewer}{Prof. Dr. Michael Hanus}
\newcommand{\thesisFirstReviewerUniversity}{Kiel University}
\newcommand{\thesisFirstReviewerDepartment}{Department of Programming
Languages and Compiler Construction}

\newcommand{\thesisSecondReviewer}{John Doe}
\newcommand{\thesisSecondReviewerUniversity}{Very Cool University}
\newcommand{\thesisSecondReviewerDepartment}{Department of Weird Stuff}

\newcommand{\thesisFirstSupervisor}{\thesisFirstReviewer}
\newcommand{\thesisSecondSupervisor}{John Smith}

\newcommand{\thesisUniversity}{Kiel University}
\newcommand{\thesisUniversityDepartment}{Department of Programming
Languages and Compiler Construction}
\newcommand{\thesisUniversityInstitute}{Institute for Computer Science}
\newcommand{\thesisUniversityGroup}{Faculty of Engineering}


% **************************************************
% Debug LaTeX Information
% **************************************************
%\listfiles


% **************************************************
% Load and Configure Packages
% **************************************************
\usepackage[ngerman,english]{babel} % babel system, adjust the language of the content
\PassOptionsToPackage{% setup clean thesis style
    figuresep=colon,%
    sansserif=false,%
    hangfigurecaption=false,%
    hangsection=true,%
    hangsubsection=true,%
    colorize=full,%
    colortheme=bluemagenta,%
    bibsys=bibtex,%
    bibfile=thesis,%
    bibstyle=authoryear,%
    wrapfooter=false,%
}{cleanthesis}
\usepackage{cleanthesis}

\hypersetup{% setup the hyperref-package options
    pdftitle={\thesisTitle},    %   - title (PDF meta)
    pdfsubject={\thesisSubject},%   - subject (PDF meta)
    pdfauthor={\thesisName},    %   - author (PDF meta)
    plainpages=false,           %   -
    colorlinks=false,           %   - colorize links?
    pdfborder={0 0 0},          %   -
    breaklinks=true,            %   - allow line break inside links
    bookmarksnumbered=true,     %
    bookmarksopen=true          %
  }

% remove certain fiels from bib
\AtEveryBibitem{
  \clearfield{language}
  \clearfield{month}
  \clearlist{language}
  \clearlist{location}
  \clearfield{series}
}

% hyphenation
\usepackage[shortcuts]{extdash}
\hyphenation{de-ter-mi-nism}
\hyphenation{de-ter-mi-nis-tic}
\hyphenation{non-de-ter-mi-nism}
\hyphenation{non-de-ter-mi-nis-tic}

% minted-related definitions
\newminted[curry]{haskell}{style=friendly,mathescape=true,escapeinside=<>}
\newmintinline[cyinl]{haskell}{style=friendly}
\newmintinline[hinl]{haskell}{}
\newmintinline[cinl]{coq}{escapeinside=!!,mathescape=true}

\usemintedstyle[curry]{friendly}
\usemintedstyle[haskell]{trac}
\usemintedstyle[coq]{tango}

\newenvironment{excursus}[1]
{\vspace{0.5cm}
\hrule
\vspace{0.3cm}
\paragraph{Excursus: #1}}
{\vspace{0.3cm}
\hrule
\vspace{0.5cm}}


\newenvironment{cyrepl}
{%
\vspace{0.25cm}%
\VerbatimEnvironment%
\begin{BVerbatim}[commandchars=\\\{\}]%
}
{%
\end{BVerbatim}%
\vspace{0.25cm}%

}
\newenvironment{crepl}
{%
\begin{alltt}%
}
{%
\end{alltt}
}

\newenvironment{hrepl}
{%
  \vspace{0.25cm}%
  \VerbatimEnvironment%
  \begin{BVerbatim}[commandchars=\\\{\},mathescape]%
}
{%
\end{BVerbatim}%
  \vspace{0.25cm}%
 }

\newenvironment{miniMinted}
{%
\VerbatimEnvironment
\begin{minipage}[t]{0.45\textwidth}%
\begin{minted}{coq}%
}
{%
\end{minted}%
\end{minipage}%
}

\newenvironment{miniVerb}[1]
{%
\VerbatimEnvironment
\begin{minipage}[t]{#1\textwidth}%
\begin{Verbatim}%
}
{%
\end{Verbatim}%
\end{minipage}%
}

\newenvironment{cproof}[1]
{%
  \vspace{0.25cm}%
  \begin{minipage}[t]{0.45\textwidth}%
    \mintinline{coq}{#1}%
  \end{minipage}%s
  \minipage[t]{0.55\textwidth}%
  \begin{alltt}%
}
{%
 \end{alltt}%
  \endminipage%
  \vspace{0.25cm}%
}

\newenvironment{cproof1}[3]
{%
  \vspace{0.25cm}%
  \begin{minipage}[t]{#2\textwidth}%
    \mintinline{coq}{#1}%
  \end{minipage}%
  \minipage[t]{#3\textwidth}%
  \begin{alltt}%
}
{%
 \end{alltt}%
  \endminipage%
  \vspace{0.25cm}%
}
